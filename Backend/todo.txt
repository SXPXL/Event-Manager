

2. new issue found: When a leader enters their own email again into the team details, a duplicate registration occurs for the leader showing the same event two tims
-> fixed

3. Need a better workflow for spot/walk in registration. Issue with grouped participation. Works well with solo events.
-> fixed

- data extraction- for registration volunteers, they must be able to export data as an excel file where they can collect every details of the participants based on their event. So there must be sorting options while extracting the data.
 It must include every detail, name, phone, email, uid, college, team, etc.

 for event volunteers, they must be able to export the data of the participants of the particular event also sorting like checked in etc should be available.

admin must be able to access and export all kind of data including payment, amount , type etc and every other kind of data.
->complete

- certificate integration
-> cancelled

- a sort option in the participants for admin
->complete

4. make the cash payment available only for a spot registration link. - done

5. qr integration - done, now remove it from the user dashboard and make it send via email.

6. mail integration - 

7. payment integration

8. Button CSS - done

9. Add qr scanner to cashier to make sure they have been given the id card(this is not necessary but will be useful)

10. Making code deployment ready(adding env, viteconfig,etc etc)

11. SQL Query injection prevention



Small changes

- add min no of teammates for an event. (default 2) - done

- option for users to edit configur team after saving (two buttons remove, edit) - done

- in configure team add a small x to remove added teammate from the current state. - done

- onboarding data completion for shadow accounts - done

- user profile editing - done

- remove qr from user dashboard.(do it after mail integration) - done

- proper delete button for event user (only in admin dashboard) type confirm to delete. - cancelled

- create proper admin creation on startup by taking values from env - done

- reduce uid and cash token length - done

- delete user and staff - done

- notification icon, mainly for showing payment status updates and stuff. - cancelled

- Instruction page with agree button. - say about not choosing events that could result in clashes like one event is scheduled for 10 to 11 other one is for 10:30 to 12.

- cancel registration. (not preffered but still)

- after the payment status page when we click back it goes to the dashboard but after a few seconds it redirects to the landing page - fixed


Notes:

In the backend(ig dashboard.jsx there is a local host url hardcoded so it needs to be added to the env berfore deployment)

Test results:
result pending - reg success
user dropped - reg success
success - reg success

conclusion - code checks if it goes to the pg and doesnt read the result - fixed by adding webhook and db polling

- create 3 accounts for gmail..

-- usercard data loading issue - done

- cash token placeholder + input to all capital automatically - done

- toggle for qr scan and manual input(without that there will be lag) - later



FIXES

Complete requirements.txt
duplicate registration check 
Proper Logging

PRODUCTION CHECKS
    db url to env
    cors origin setup from env
    


- check if the entered number is a valid phone number.

- start,end time and date for events.



üìã Phase 1: Data Structure & Visuals (The "Stack" Logic)
Goal: Enable detailed event info, the "Agree to Terms" modal, and the Skeleton Loader.

Step 1: Database Upgrade (Backend)

Modify Backend/models/event.py: Add columns for description (Text), date (Date), start_time (Time), end_time (Time).

Update Schemas (Backend/schemas/event_schemas.py): Update EventCreate and EventDisplay to include these new fields.

Apply Changes: Delete eventflow.db and restart backend (fastest way in dev) or run Alembic migration.

Step 2: Admin Event Management (Frontend)

Update EventsManager in AdminDashboard.jsx: Add input fields for Date, Time, and Description so you can actually populate this data for testing.

Step 3: User Experience Upgrade (Frontend)

Create EventInfoModal.jsx: A new component that pops up when a user clicks an event. It shows the description and has the "I Agree" checkbox.

Update Dashboard.jsx:

Replace the simple addToStack click with logic to open EventInfoModal.

Skeleton Implementation: Create a SkeletonCard component (gray bars). In Dashboard.jsx, while loading is true, render 6 SkeletonCards instead of the Spinner.

üîê Phase 2: Security Hardening (Authentication)
Goal: Ensure only authorized staff can access the Admin Panel using JWT (JSON Web Tokens).

Step 4: Backend Security

Install Dependencies: pip install pyjwt passlib bcrypt.

Password Hashing: Update staff_service.py to hash passwords when creating volunteers.

Login Logic: Update /admin/login to return a JWT Token instead of just "Success".

Route Protection: Create a dependency get_current_staff. Add this to all /admin and /staff routes (e.g., delete_user, get_reports).

Step 5: Frontend Security

Update api.js: Configure axios to look for a token in localStorage and attach it to every request header (Authorization: Bearer ...).

Update AdminLogin.jsx: Save the received token to localStorage upon login.

Update AdminDashboard.jsx: Check for the token on load; if missing, redirect to Login.

üõ†Ô∏è Phase 3: Operational Tools (The Event Day Lifeline)
Goal: Build the tools needed for the actual event day.

Step 6: Walk-in Registration

Build StaffWalkIn.jsx:

Create a form to search for an existing user (by email) or create a new one.

Add an "Add Event" dropdown (similar to the user dashboard stack).

Add a "Collect Cash" button that hits the /register-bulk endpoint with a specific flag (e.g., payment_mode='WALK_IN').

Step 7: Reports & Data

Build ReportsPanel.jsx:

Fetch all registrations.

Calculate Stats (Total Cash collected vs. Online).

Add a "Download CSV" button (Frontend logic to convert JSON to CSV).

üõ°Ô∏è Phase 4: Infrastructure Protection
Goal: Prevent abuse.

Step 8: Rate Limiting & Sanitation

Install: pip install slowapi.

Apply Limits: Add @limiter.limit("5/minute") to the Login route and @limiter.limit("20/minute") to Registration routes.